<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inkjection Tattoo</title>
    <style>
        /* TasarÄ±mÄ± geri getiren ana CSS v1.0 */
        :root { --bg:#000; --text:#fff; --accent:#25D366; }
        body { margin: 0; background: #000; color: #fff; font-family: 'Segoe UI', sans-serif; text-align: center; padding-bottom: 50px; }
        .header { padding: 40px 20px; background: linear-gradient(to bottom, #111, #000); }
        h1 { font-size: 2.5em; margin: 0; letter-spacing: 2px; color: #fff; }
        .btn-container { margin: 20px 0; display: flex; flex-direction: column; align-items: center; gap: 15px; }
        .btn { width: 85%; max-width: 300px; padding: 15px; border-radius: 50px; text-decoration: none; font-weight: bold; font-size: 1.1em; transition: 0.3s; }
        .whatsapp { background: #25D366; color: #fff; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3); }
        .facebook { background: #1877F2; color: #fff; }
        
        /* Takvim AlanÄ± */
        #calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; max-width: 450px; margin: 30px auto; padding: 15px; background: #0a0a0a; border-radius: 15px; }
        .day { padding: 15px 5px; border-radius: 10px; font-size: 14px; background: #1a1a1a; border: 1px solid #333; }
        .booked { background: #ff4444 !important; color: #fff !important; text-decoration: line-through; opacity: 0.7; border-color: #ff4444; }
        .free { border-color: #25D366; color: #25D366; }
        .info-text { font-size: 0.9em; color: #888; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Inkjection Tattoo</h1>
        <p>Zandhoven, Belgium</p>
    </div>

    <div class="btn-container">
        <a href="https://wa.me/32465313881" class="btn whatsapp">WhatsApp ile Yaz</a>
        <a href="https://www.facebook.com/share/15ZpY9N4K8/?mibextid=wwXIfr" class="btn facebook">Facebook SayfamÄ±z</a>
    </div>

    <div id="calendar"></div>
    <p class="info-text">ðŸ”´ Dolu GÃ¼nler | ðŸŸ¢ BoÅŸ GÃ¼nler</p>

    <script>
        async function loadData() {
            // Senin Google Sheets baÄŸlantÄ±n
            const sheetId = '1-Cmr2UoQB89Oo4D-Qcukhr7CGjs7eAEJbuSlWtyjFk4';
            const url = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json&sheet=Sayfa1`;
            
            try {
                const res = await fetch(url);
                const txt = await res.text();
                const json = JSON.parse(txt.substr(47).slice(0, -2));
                
                const bookedDates = json.table.rows.map(row => {
                    let val = row.c[0] ? row.c[0].v : null;
                    let status = row.c[1] ? row.c[1].v : '';
                    
                    if (val && status === 'booked') {
                        // Hem Date() hem de DÃ¼z Metin okuma desteÄŸi
                        if (typeof val === 'string' && val.includes('Date')) {
                            const m = val.match(/\d+/g);
                            return `${m[0]}-${(parseInt(m[1])+1).toString().padStart(2,'0')}-${m[2].padStart(2,'0')}`;
                        }
                        return val.toString().trim(); 
                    }
                    return null;
                }).filter(x => x);

                const cal = document.getElementById('calendar');
                const today = new Date();
                
                for(let i=0; i<30; i++) {
                    const d = new Date(today);
                    d.setDate(today.getDate() + i);
                    const iso = `${d.getFullYear()}-${(d.getMonth()+1).toString().padStart(2,'0')}-${d.getDate().toString().padStart(2,'0')}`;
                    
                    const div = document.createElement('div');
                    div.className = 'day ' + (bookedDates.includes(iso) ? 'booked' : 'free');
                    div.innerText = d.getDate() + "/" + (d.getMonth()+1);
                    cal.appendChild(div);
                }
            } catch (e) { console.error("Hata:", e); }
        }
        loadData(); [cite: 2025-12-24]
    </script>
</body>
</html>
